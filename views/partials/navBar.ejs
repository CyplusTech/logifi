 <header id="navbar">
  <a href="/">
  <img src="/images/light-logo.png" alt="Logifi Logo Light" class="logo-img logo-light">
  <img src="/images/dark-logo.png" alt="Logifi Logo Dark" class="logo-img logo-dark">
</a>

  <div class="menu-toggle" onclick="toggleMenu()">
    <i class="fas fa-bars"></i>
  </div>
  <nav id="navLinks">
    <a href="/">Home</a>

    <div class="dropdown">
      <a class="dropdown-toggle">Find Lodge <i class="fas fa-caret-down"></i></a>
      <div class="dropdown-menu">
      <a href="/lodges" 
        onclick="event.preventDefault(); trackClick('list_lodges', null, '/lodges')">
        List Lodges
      </a>

      <a href="/post-lodge" 
        onclick="event.preventDefault(); trackClick('become-an-agent', null, '/post-lodge')">
        Become an agent
      </a>
      

        <!-- <a href="#">Become an agent</a> -->
      </div>
    </div>
    

        <!-- <div class="dropdown">
      <a class="dropdown-toggle">Find Roomate<i class="fas fa-caret-down"></i></a>
      <div class="dropdown-menu">
        <a href="/roommate">Find Roommate</a>
        <a href="/post-roommate">Post Roomate</a>
        <a href="#">Become an agent</a>
      </div>
    </div> -->

    <div class="dropdown">
      <a class="dropdown-toggle">Info <i class="fas fa-caret-down"></i></a>
      <div class="dropdown-menu">
        <a href="/#about">About Us</a>
        <a href="/#contact">Contact Us</a>
      </div>
    </div>
    <a href="/#how-it-works">How it Works</a>
    <!-- <a href="index.html" class="btn-register">Register</a>
    <a href="/login" class="btn-login">Login</a> -->
  </nav>
</header>

<script>
   function toggleMenu() {
    const nav = document.getElementById('navLinks');
    const navbar = document.getElementById('navbar');

    nav.classList.toggle('show');

    if (nav.classList.contains('show')) {
      navbar.classList.add('menu-open');
      navbar.classList.add('scrolled'); // force white background
    } else {
      navbar.classList.remove('menu-open');
      if (window.scrollY <= 50) {
        navbar.classList.remove('scrolled'); // allow transparency again
      }
    }
  }

  window.addEventListener('scroll', function () {
    const navbar = document.getElementById('navbar');
    if (window.scrollY > 50) {
      navbar.classList.add('scrolled');
    } else if (!navbar.classList.contains('menu-open')) {
      navbar.classList.remove('scrolled');
    }
  });

  window.addEventListener('resize', function () {
  const navbar = document.getElementById('navbar');
  const nav = document.getElementById('navLinks');

  if (window.innerWidth > 768) {
    nav.classList.remove('show');
    navbar.classList.remove('menu-open');

    // Restore transparency if not scrolled
    if (window.scrollY <= 50) {
      navbar.classList.remove('scrolled');
    }
  }
});

// function trackClick(action, lodgeId = null, url = null) {
//   fetch("/track/click", {
//     method: "POST",
//     headers: { "Content-Type": "application/json" },
//     body: JSON.stringify({ action, lodgeId }),
//   })
//   .catch(err => console.error("Tracking failed:", err))
//   .finally(() => {
//     if (url) {
//       window.open(url, "_blank"); // opens WhatsApp in new tab
//     }
//   });
// }

function trackClick(action, lodgeId = null, url = null) {
  fetch("/track/click", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ action, lodgeId }),
  })
  .catch(err => console.error("Tracking failed:", err))
  .finally(() => {
    if (url) {
      // Navigate to auth page after tracking
      window.location.href = url;
    }
  });
}



</script>
